# –î–∏–ø–ª–æ–º–Ω—ã–π –ø—Ä–æ–µ–∫—Ç FOODGRAMüçî 
![example workflow](https://github.com/tapp41k/foodgram-project-react/actions/workflows/main.yml/badge.svg)
### üìñ–û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç Foodgram ¬´–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫¬ª. –û–Ω–ª–∞–π–Ω-—Å–µ—Ä–≤–∏—Å –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã, –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è —Ä–µ—Ü–µ–ø—Ç—ã –≤ —Å–ø–∏—Å–æ–∫ ¬´–ò–∑–±—Ä–∞–Ω–Ω–æ–µ¬ª, –∞ –ø–µ—Ä–µ–¥ –ø–æ—Ö–æ–¥–æ–º –≤ –º–∞–≥–∞–∑–∏–Ω —Å–∫–∞—á–∏–≤–∞—Ç—å —Å–≤–æ–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –±–ª—é–¥.
### üõ†Ô∏è–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
![image](https://img.shields.io/badge/Python-FFD43B?style=for-the-badge&logo=python&logoColor=blue)
![image](https://img.shields.io/badge/Django-092E20?style=for-the-badge&logo=django&logoColor=green)
![image](https://img.shields.io/badge/django%20rest-ff1709?style=for-the-badge&logo=django&logoColor=white)
![image](https://img.shields.io/badge/Docker-2CA5E0?style=for-the-badge&logo=docker&logoColor=white)
![image](https://img.shields.io/badge/Nginx-009639?style=for-the-badge&logo=nginx&logoColor=white)
![Gunicorn](https://img.shields.io/badge/gunicorn-%298729.svg?style=for-the-badge&logo=gunicorn&logoColor=white)
![image](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)
![GitHubActions](https://img.shields.io/badge/GitHub_Actions-black?style=for-the-badge&logo=github-actions&logoColor=white)
![YandexCloud](https://img.shields.io/badge/Yandex_Cloud-FFD43B?style=for-the-badge&logo=yandex-cloud&logoColor=white)
### üìù–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é:
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç.
```
git clone git@github.com:tapp41k/foodgram-project-react.git
```
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≤–∞—à–µ–º—É —Å–µ—Ä–≤–µ—Ä—É.
```
ssh <server user>@<server IP>
```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –î–æ–∫–µ—Ä –Ω–∞ —Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä.
```
sudo apt install docker.io
```
4. –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è docker-compose.
```
sudo chmod +x /usr/local/bin/docker-compose
```
5. –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞.
```
mkdir foodgram && cd foodgram/
```
6. –°–æ–∑–¥–∞–π—Ç–µ env-—Ñ–∞–π–ª.
```
touch .env
```
7. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ env-—Ñ–∞–π–ª.
```

DB_NAME=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DB_HOST=db
DB_PORT=5432

SECRET_KEY='' —É–∫–∞–∑—ã–≤–∞–µ–º —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django –∏–∑ —Ñ–∞–π–ª–∞ settings.py
DEBUG=False
ALLOWED_HOSTS=127.0.0.1 –≤–∞—à_—Ö–æ—Å—Ç –≤–∞—à_–¥–æ–º–µ–Ω localhost

DB_ENGINE=django.db.backends.postgresql

```
8. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ 'infra/' —Å –ü–ö –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä.
```
scp infra/* <server user>@<server IP>:/home/<server user>/foodgram
```
9. –ó–∞–ø—É—Å—Ç–∏—Ç–µ docker-compose.
```
sudo docker compose -f docker-compose.yml up -d
```
10. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏.
```
sudo docker compose -f docker-compose.yml exec backend python manage.py makemigrations
sudo docker compose -f docker-compose.yml exec backend python manage.py migrate
```
11. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä —Å—Ç–∞—Ç–∏–∫–∏.
```
sudo docker compose -f docker-compose.yml exec backend python manage.py collectstatic --no-input
```
12. –°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
```
sudo docker compose -f docker-compose.yml exec backend python manage.py createsuperuser
```
13. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º
```
sudo docker compose -f docker-compose.yml exec backend python manage.py load_json_data
```

### ‚úÖ–ù–∞—Å—Ç—Ä–æ–µ–Ω Workflow, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —à–∞–≥–æ–≤:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ PEP8
- –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–∞ –±–µ–∫–µ–Ω–¥–∞ –Ω–∞ DockerHub.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä.
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ç–µ–ª–µ–≥—Ä–∞–º-—á–∞—Ç.

### üîìActions secrets
- `DOCKER_PASSWORD` = –ø–∞—Ä–æ–ª—å –æ—Ç DockerHub
- `DOCKER_USERNAME` = –ª–æ–≥–∏–Ω DockerHub
- `HOST` = –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- `SSH_KEY` = –ö–ª—é—á –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- `TELEGRAM_TO` = –≤–∞—à id –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ
- `TELEGRAM_TOKEN` = —Ç–æ–∫–µ–Ω —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞
- `USER` = –ª–æ–≥–∏–Ω –Ω–∞ –≤–∞—à–µ–º —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- `PASSPHRASE` = –ø–∞—Ä–æ–ª—å –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

<h2>üöÄ–ü—Ä–æ–µ–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É 
<a href="https://foodgramn1.sytes.net/" target="_blank">FOODGRAM</a></h2>

### üõ°Ô∏è–î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É:
```
–õ–æ–≥–∏–Ω: admin@yandex.ru
–ü–∞—Ä–æ–ª—å: admin
```
<h2> –ê–≤—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ </a> 
<img src="https://github.com/blackcater/blackcater/raw/main/images/Hi.gif" height="32" width="32"/></h2>

[–ò–ª—å—è –û—Å–∞–¥—á–∏–π](https://github.com/tapp41k)
